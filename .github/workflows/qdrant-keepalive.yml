name: Qdrant keepalive

on:
  schedule:
    - cron: "0 */12 * * *"   # ogni 12 ore (UTC)
  workflow_dispatch:          # pulsante manuale

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Qdrant
        run: |
          set -euo pipefail
          curl -sS -f \
            "${{ secrets.QDRANT_URL }}/collections/${{ secrets.QDRANT_COLLECTION }}" \
            -H "Authorization: Bearer ${{ secrets.QDRANT_TOKEN }}" \
            > /dev/null
